# ハンドオフ補足（クリーンな構造プレビュー）
## 環境
Node: v22.19.0 / npm: 10.9.3 / Tailwind: 3.4.17 / Branch: hotfix/glow-qty-20250924 (HEAD 7f7689fb776d)

## Verify
(no log)
(verify log not found)

## リポジトリ概要（集計 / _backup,_diag除外）
- files: 74, ts/tsx: 18, css: 1, pages: 7, components: 16, lib: 2

### FILE MAP (preview)
.gitignore
README.md
components/CartPanel.tsx
components/CartPanel.tsx.bak
components/CartPanel.tsx.bak.mobile
components/CartPanel.tsx.bak.simple
components/CartPanel.tsx.bak.slide
components/CategoryDock.tsx
components/FullscreenToggle.tsx
components/ProductCard.tsx
components/SlideToConfirm.tsx
components/SlideToConfirm.tsx.bak.elegant
components/SlideToConfirm.tsx.bak.premium
components/SlideToConfirm.tsx.bak.replace
components/SlideToPay.tsx
components/SlideToPay.tsx.bak
components/ThemeProvider.tsx
components/TopBar.tsx
data/catalog.ts
docs/CHECKLIST.md
docs/CONTRACTS.md
docs/HANDOFF-20250923.md
docs/REPO-TREE-20250923.txt
docs/REPO-TREE-20250924.txt
docs/SMOKE-TEST.md
docs/diffs/20250924-013526-glow-qty-start.names.txt
docs/diffs/20250924-013526-glow-qty-start.patch
docs/diffs/20250924-013526-glow-qty-start.status.txt
docs/diffs/20250924-013546-glow-qty-pre-commit.names.txt
docs/diffs/20250924-013546-glow-qty-pre-commit.patch
docs/diffs/20250924-013546-glow-qty-pre-commit.status.txt
docs/diffs/20250924-013927-glow-qty-start.names.txt
docs/diffs/20250924-013927-glow-qty-start.patch
docs/diffs/20250924-013927-glow-qty-start.status.txt
docs/diffs/20250924-013950-glow-qty-pre-commit.names.txt
docs/diffs/20250924-013950-glow-qty-pre-commit.patch
docs/diffs/20250924-013950-glow-qty-pre-commit.status.txt
docs/sessions/20250924-0135-hotfix-glow-qty-20250924.md
docs/sessions/20250924-0139-hotfix-glow-qty-20250924.md
docs/verify/verify-20250924-013526.txt
docs/verify/verify-20250924-013546.txt
docs/verify/verify-20250924-013927.txt
docs/verify/verify-20250924-013950.txt
gh-links.txt
hooks/useClickSound.ts
hooks/useSfxHowler.ts
hooks/useZzfxSfx.ts
lib/layout.ts
lib/theme.ts
next-env.d.ts
package-lock.json
package.json
pages/_app.tsx
pages/_app.tsx.bak
pages/_document.tsx
pages/index.tsx
pages/index.tsx.bak
pages/index.tsx.bak.2
pages/index.tsx.bak.icons
postcss.config.js
prisma/schema.prisma
public/icons/icon-180.png
public/icons/icon-192.png
public/icons/icon-512.png
public/manifest.webmanifest
public/sounds/ui-confirm.mp3
public/sounds/ui-key.mp3
public/sw.js
styles/globals.css
tailwind.config.js
tools/Handoff-Workflow.ps1
tools/Verify-Handoff.ps1
tsconfig.json
tsconfig.tsbuildinfo

### EXPORTED SYMBOLS (preview)
components/CartPanel.tsx: export default function CartPanel({
components/CategoryDock.tsx: export type Category = { id: number; name: string; emoji: string };
components/CategoryDock.tsx: export default function CategoryDock({ categories, selectedId, onSelect }: {
components/FullscreenToggle.tsx: export default function FullscreenToggle() {
components/ProductCard.tsx: export default function ProductCard({ product, qty = 0, onAdd }: ProductCardProps) {
components/SlideToConfirm.tsx: export default function SlideToConfirm({
components/SlideToPay.tsx: export type SlideToPayProps = {
components/SlideToPay.tsx: export const SlideToPay: React.FC<SlideToPayProps> = ({
components/ThemeProvider.tsx: export default function ThemeProvider({ children, theme = "light", customTheme }: Props) {
components/TopBar.tsx: export type Payment = "CARD" | "QR" | "CASH";
components/TopBar.tsx: export const methods: Payment[] = ["CARD", "QR", "CASH"];
components/TopBar.tsx: export default function TopBar({ payment, onChange }: { payment: Payment | null; onChange: (p: Payment) => void; }) {
data/catalog.ts: export type Category = {
data/catalog.ts: export type Product = {
data/catalog.ts: export type DataSet = {
data/catalog.ts: export const categories: Category[] = [
data/catalog.ts: export const products: Product[] = [
data/catalog.ts: export const productsByCategory = (catId: string) =>
hooks/useClickSound.ts: export default function useClickSound(opts: Options | number = {}) {
hooks/useSfxHowler.ts: export default function useSfxHowler() {
hooks/useZzfxSfx.ts: export default function useZzfxSfx() {
lib/layout.ts: export const LAYOUT = {
lib/layout.ts: export const PAY_HL = {
lib/layout.ts: export const payVars = (key?: string) => {
lib/layout.ts: export type PaySkinSpec = {
lib/layout.ts: export const PAY_SKIN: { default: PaySkinSpec; byKey: Record<string, PaySkinSpec> } = {
lib/layout.ts: export const payGroupVars = (key?: string): Record<string,string> => {
lib/layout.ts: export type PayVarsInput = Partial<{
lib/layout.ts: export function payVars(input: PayVarsInput = {}): Record<string,string> {
lib/layout.ts: export function payGroupVars(group: string | number, input: PayVarsInput = {}): Record<string,string> {
lib/theme.ts: export type Theme = {
lib/theme.ts: export const THEME_LIGHT: Theme = {
lib/theme.ts: export const THEME_DARK: Theme = {
lib/theme.ts: export function applyTheme(theme: Theme) {
lib/theme.ts: export type GlowSpec = { color: string; ringWidthPx?: number; blurPx?: number };
lib/theme.ts: export const GLOW_THEME: {
lib/theme.ts: export function paymentGlow(key: string | undefined): Record<string,string> {
lib/theme.ts: export function applyCategoryGlowVars(doc?: Document) {
lib/theme.ts: export const QTY_THEME = { activeBg: 'rgba(34,197,94,.16)' };
lib/theme.ts: export const qtyVars = (active?: boolean) => active ? ({ ['--qty-bg' as any]: QTY_THEME.activeBg } as any) : ({} as any);
lib/theme.ts: export const qtyActiveVars = () => ({ ['--qty-bg' as any]: QTY_THEME.activeBg } as any);
pages/_app.tsx: export default function MyApp({ Component, pageProps }: AppProps) {
pages/_document.tsx: export default function Document() {
pages/index.tsx: export default function HomePage() {
